<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Evaluation &amp; Validation · Clustering.jl</title><meta name="title" content="Evaluation &amp; Validation · Clustering.jl"/><meta property="og:title" content="Evaluation &amp; Validation · Clustering.jl"/><meta property="twitter:title" content="Evaluation &amp; Validation · Clustering.jl"/><meta name="description" content="Documentation for Clustering.jl."/><meta property="og:description" content="Documentation for Clustering.jl."/><meta property="twitter:description" content="Documentation for Clustering.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Clustering.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Clustering.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Introduction</a></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="algorithms.html">Basics</a></li><li><a class="tocitem" href="init.html">Initialization</a></li><li><a class="tocitem" href="kmeans.html">K-means</a></li><li><a class="tocitem" href="kmedoids.html">K-medoids</a></li><li><a class="tocitem" href="hclust.html">Hierarchical Clustering</a></li><li><a class="tocitem" href="mcl.html">MCL (Markov Cluster Algorithm)</a></li><li><a class="tocitem" href="affprop.html">Affinity Propagation</a></li><li><a class="tocitem" href="dbscan.html">DBSCAN</a></li><li><a class="tocitem" href="fuzzycmeans.html">Fuzzy C-means</a></li></ul></li><li class="is-active"><a class="tocitem" href="validate.html">Evaluation &amp; Validation</a><ul class="internal"><li><a class="tocitem" href="#Clustering-comparison"><span>Clustering comparison</span></a></li><li><a class="tocitem" href="#Clustering-quality-indices"><span>Clustering quality indices</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li><li><a class="tocitem" href="#Other-packages"><span>Other packages</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="validate.html">Evaluation &amp; Validation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="validate.html">Evaluation &amp; Validation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaStats/Clustering.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaStats/Clustering.jl/blob/master/docs/source/validate.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="clu_validate"><a class="docs-heading-anchor" href="#clu_validate">Evaluation &amp; Validation</a><a id="clu_validate-1"></a><a class="docs-heading-anchor-permalink" href="#clu_validate" title="Permalink"></a></h1><p><em>Clustering.jl</em> package provides a number of methods to compare different clusterings, evaluate clustering quality or validate its correctness.</p><h2 id="Clustering-comparison"><a class="docs-heading-anchor" href="#Clustering-comparison">Clustering comparison</a><a id="Clustering-comparison-1"></a><a class="docs-heading-anchor-permalink" href="#Clustering-comparison" title="Permalink"></a></h2><p>Methods to compare two clusterings and measure their similarity.</p><h3 id="Cross-tabulation"><a class="docs-heading-anchor" href="#Cross-tabulation">Cross tabulation</a><a id="Cross-tabulation-1"></a><a class="docs-heading-anchor-permalink" href="#Cross-tabulation" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Contingency_table">Cross tabulation</a>, or <em>contingency matrix</em>, is a basis for many clustering quality measures. It shows how similar are the two clusterings on a cluster level.</p><p><em>Clustering.jl</em> extends <code>StatsBase.counts()</code> with methods that accept <a href="algorithms.html#Clustering.ClusteringResult"><code>ClusteringResult</code></a> arguments:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.counts-Tuple{ClusteringResult, ClusteringResult}" href="#StatsBase.counts-Tuple{ClusteringResult, ClusteringResult}"><code>StatsBase.counts</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">counts(a::ClusteringResult, b::ClusteringResult) -&gt; Matrix{Int}
counts(a::ClusteringResult, b::AbstractVector{&lt;:Integer}) -&gt; Matrix{Int}
counts(a::AbstractVector{&lt;:Integer}, b::ClusteringResult) -&gt; Matrix{Int}</code></pre><p>Calculate the <em>cross tabulation</em> (aka <em>contingency matrix</em>) for the two clusterings of the same data points.</p><p>Returns the <span>$n_a × n_b$</span> matrix <code>C</code>, where <span>$n_a$</span> and <span>$n_b$</span> are the numbers of clusters in <code>a</code> and <code>b</code>, respectively, and <code>C[i, j]</code> is the size of the intersection of <code>i</code>-th cluster from <code>a</code> and <code>j</code>-th cluster from <code>b</code>.</p><p>The clusterings could be specified either as <a href="algorithms.html#Clustering.ClusteringResult"><code>ClusteringResult</code></a> instances or as vectors of data point assignments.</p><p><strong>See also</strong></p><p><a href="validate.html#Clustering.confusion"><code>confusion(a::ClusteringResult, a::ClusteringResult)</code></a> for 2×2 <em>confusion matrix</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/counts.jl#L17-L37">source</a></section></article><h3 id="Confusion-matrix"><a class="docs-heading-anchor" href="#Confusion-matrix">Confusion matrix</a><a id="Confusion-matrix-1"></a><a class="docs-heading-anchor-permalink" href="#Confusion-matrix" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Confusion_matrix">Confusion matrix</a> for the two clusterings is a 2×2 contingency table that counts how frequently the pair of data points are in the same or different clusters.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Clustering.confusion" href="#Clustering.confusion"><code>Clustering.confusion</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">confusion([T = Int],
          a::Union{ClusteringResult, AbstractVector},
          b::Union{ClusteringResult, AbstractVector}) -&gt; Matrix{T}</code></pre><p>Calculate the <em>confusion matrix</em> of the two clusterings.</p><p>Returns the 2×2 confusion matrix <code>C</code> of type <code>T</code> (<code>Int</code> by default) that represents partition co-occurrence or similarity matrix between two clusterings <code>a</code> and <code>b</code> by considering all pairs of samples and counting pairs that are assigned into the same or into different clusters.</p><p>Considering a pair of samples that is in the same group as a <strong>positive pair</strong>, and a pair is in the different group as a <strong>negative pair</strong>, then the count of true positives is <code>C₁₁</code>, false negatives is <code>C₁₂</code>, false positives <code>C₂₁</code>, and true negatives is <code>C₂₂</code>:</p><table><tr><th style="text-align: center"></th><th style="text-align: center">Positive</th><th style="text-align: center">Negative</th></tr><tr><td style="text-align: center">Positive</td><td style="text-align: center">C₁₁</td><td style="text-align: center">C₁₂</td></tr><tr><td style="text-align: center">Negative</td><td style="text-align: center">C₂₁</td><td style="text-align: center">C₂₂</td></tr></table><p><strong>See also</strong></p><p><a href="algorithms.html#StatsBase.counts-Tuple{ClusteringResult}"><code>counts(a::ClusteringResult, a::ClusteringResult)</code></a> for full <em>contingency matrix</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/confusion.jl#L1-L27">source</a></section></article><h3 id="Rand-index"><a class="docs-heading-anchor" href="#Rand-index">Rand index</a><a id="Rand-index-1"></a><a class="docs-heading-anchor-permalink" href="#Rand-index" title="Permalink"></a></h3><p><a href="http://en.wikipedia.org/wiki/Rand_index">Rand index</a> is a measure of the similarity between the two data clusterings. From a mathematical standpoint, Rand index is related to the prediction accuracy, but is applicable even when the original class labels are not used.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Clustering.randindex" href="#Clustering.randindex"><code>Clustering.randindex</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">randindex(a, b) -&gt; NTuple{4, Float64}</code></pre><p>Compute the tuple of Rand-related indices between the clusterings <code>c1</code> and <code>c2</code>.</p><p><code>a</code> and <code>b</code> can be either <a href="algorithms.html#Clustering.ClusteringResult"><code>ClusteringResult</code></a> instances or assignments vectors (<code>AbstractVector{&lt;:Integer}</code>).</p><p>Returns a tuple of indices:</p><ul><li>Hubert &amp; Arabie Adjusted Rand index</li><li>Rand index (agreement probability)</li><li>Mirkin&#39;s index (disagreement probability)</li><li>Hubert&#39;s index (<span>$P(\mathrm{agree}) - P(\mathrm{disagree})$</span>)</li></ul><p><strong>References</strong></p><blockquote><p>Lawrence Hubert and Phipps Arabie (1985). <em>Comparing partitions.</em> Journal of Classification 2 (1): 193-218</p></blockquote><blockquote><p>Meila, Marina (2003). <em>Comparing Clusterings by the Variation of Information.</em> Learning Theory and Kernel Machines: 173-187.</p></blockquote><blockquote><p>Steinley, Douglas (2004). <em>Properties of the Hubert-Arabie Adjusted Rand Index.</em> Psychological Methods, Vol. 9, No. 3: 386-396</p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/randindex.jl#L1-L24">source</a></section></article><h3 id="Variation-of-Information"><a class="docs-heading-anchor" href="#Variation-of-Information">Variation of Information</a><a id="Variation-of-Information-1"></a><a class="docs-heading-anchor-permalink" href="#Variation-of-Information" title="Permalink"></a></h3><p><a href="http://en.wikipedia.org/wiki/Variation_of_information">Variation of information</a> (also known as <em>shared information distance</em>) is a measure of the distance between the two clusterings. It is devised from the <em>mutual information</em>, but it is a true metric, <em>i.e.</em> it is symmetric and satisfies the triangle inequality.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Clustering.varinfo" href="#Clustering.varinfo"><code>Clustering.varinfo</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">varinfo(a, b) -&gt; Float64</code></pre><p>Compute the <em>variation of information</em> between the two clusterings of the same data points.</p><p><code>a</code> and <code>b</code> can be either <a href="algorithms.html#Clustering.ClusteringResult"><code>ClusteringResult</code></a> instances or assignments vectors (<code>AbstractVector{&lt;:Integer}</code>).</p><p><strong>References</strong></p><blockquote><p>Meila, Marina (2003). <em>Comparing Clusterings by the Variation of Information.</em> Learning Theory and Kernel Machines: 173–187.</p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/varinfo.jl#L3-L15">source</a></section></article><h3 id="V-measure"><a class="docs-heading-anchor" href="#V-measure">V-measure</a><a id="V-measure-1"></a><a class="docs-heading-anchor-permalink" href="#V-measure" title="Permalink"></a></h3><p><em>V</em>-measure can be used to compare the clustering results with the existing class labels of data points or with the alternative clustering. It is defined as the harmonic mean of homogeneity (<span>$h$</span>) and completeness (<span>$c$</span>) of the clustering:</p><p class="math-container">\[V_{\beta} = (1+\beta)\frac{h \cdot c}{\beta \cdot h + c}.\]</p><p>Both <span>$h$</span> and <span>$c$</span> can be expressed in terms of the mutual information and entropy measures from the information theory. Homogeneity (<span>$h$</span>) is maximized when each cluster contains elements of as few different classes as possible. Completeness (<span>$c$</span>) aims to put all elements of each class in single clusters. The <span>$\beta$</span> parameter (<span>$\beta &gt; 0$</span>) could used to control the weights of <span>$h$</span> and <span>$c$</span> in the final measure. If <span>$\beta &gt; 1$</span>, <em>completeness</em> has more weight, and when <span>$\beta &lt; 1$</span> it&#39;s <em>homogeneity</em>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Clustering.vmeasure" href="#Clustering.vmeasure"><code>Clustering.vmeasure</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vmeasure(a, b; [β = 1.0]) -&gt; Float64</code></pre><p>V-measure between the two clusterings.</p><p><code>a</code> and <code>b</code> can be either <a href="algorithms.html#Clustering.ClusteringResult"><code>ClusteringResult</code></a> instances or assignments vectors (<code>AbstractVector{&lt;:Integer}</code>).</p><p>The <code>β</code> parameter defines trade-off between <em>homogeneity</em> and <em>completeness</em>:</p><ul><li>if <span>$β &gt; 1$</span>, <em>completeness</em> is weighted more strongly,</li><li>if <span>$β &lt; 1$</span>, <em>homogeneity</em> is weighted more strongly.</li></ul><p><strong>References</strong></p><blockquote><p>Andrew Rosenberg and Julia Hirschberg, 2007. <em>V-Measure: A conditional entropy-based external cluster evaluation measure</em></p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/vmeasure.jl#L27-L42">source</a></section></article><h3 id="Mutual-information"><a class="docs-heading-anchor" href="#Mutual-information">Mutual information</a><a id="Mutual-information-1"></a><a class="docs-heading-anchor-permalink" href="#Mutual-information" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Mutual_information">Mutual information</a> quantifies the &quot;amount of information&quot; obtained about one random variable through observing the other random variable. It is used in determining the similarity of two different clusterings of a dataset.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Clustering.mutualinfo" href="#Clustering.mutualinfo"><code>Clustering.mutualinfo</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutualinfo(a, b; normed=true) -&gt; Float64</code></pre><p>Compute the <em>mutual information</em> between the two clusterings of the same data points.</p><p><code>a</code> and <code>b</code> can be either <a href="algorithms.html#Clustering.ClusteringResult"><code>ClusteringResult</code></a> instances or assignments vectors (<code>AbstractVector{&lt;:Integer}</code>).</p><p>If <code>normed</code> parameter is <code>true</code> the return value is the normalized mutual information (symmetric uncertainty), see &quot;Data Mining Practical Machine Tools and Techniques&quot;, Witten &amp; Frank 2005.</p><p><strong>References</strong></p><blockquote><p>Vinh, Epps, and Bailey, (2009). <em>Information theoretic measures for clusterings comparison</em>. Proceedings of the 26th Annual International Conference on Machine Learning - ICML ‘09.</p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/mutualinfo.jl#L25-L40">source</a></section></article><h2 id="Clustering-quality-indices"><a class="docs-heading-anchor" href="#Clustering-quality-indices">Clustering quality indices</a><a id="Clustering-quality-indices-1"></a><a class="docs-heading-anchor-permalink" href="#Clustering-quality-indices" title="Permalink"></a></h2><p><a href="validate.html#Clustering.clustering_quality"><code>clustering_quality()</code></a> methods allow computing <em>intrinsic</em> clustering quality indices, i.e. the metrics that depend only on the clustering itself and do not use the external knowledge. These metrics can be used to compare different clustering algorithms or choose the optimal number of clusters.</p><table><tr><th style="text-align: center"><strong>quality index</strong></th><th style="text-align: center"><strong><code>quality_index</code> option</strong></th><th style="text-align: center"><strong>clustering type</strong></th><th style="text-align: center"><strong>better quality</strong></th><th style="text-align: center"><strong>cluster centers</strong></th></tr><tr><td style="text-align: center"><a href="validate.html#calinsky_harabasz">Calinski-Harabasz</a></td><td style="text-align: center"><code>:calinsky_harabasz</code></td><td style="text-align: center">hard/fuzzy</td><td style="text-align: center"><em>higher</em> values</td><td style="text-align: center">required</td></tr><tr><td style="text-align: center"><a href="validate.html#xie_beni">Xie-Beni</a></td><td style="text-align: center"><code>:xie_beni</code></td><td style="text-align: center">hard/fuzzy</td><td style="text-align: center"><em>lower</em> values</td><td style="text-align: center">required</td></tr><tr><td style="text-align: center"><a href="validate.html#davis_bouldin">Davis-Bouldin</a></td><td style="text-align: center"><code>:davis_bouldin</code></td><td style="text-align: center">hard</td><td style="text-align: center"><em>lower</em> values</td><td style="text-align: center">required</td></tr><tr><td style="text-align: center"><a href="validate.html#dunn">Dunn</a></td><td style="text-align: center"><code>:dunn</code></td><td style="text-align: center">hard</td><td style="text-align: center"><em>higher</em> values</td><td style="text-align: center">not required</td></tr><tr><td style="text-align: center"><a href="validate.html#silhouettes_index">silhouettes</a></td><td style="text-align: center"><code>:silhouettes</code></td><td style="text-align: center">hard</td><td style="text-align: center"><em>higher</em> values</td><td style="text-align: center">not required</td></tr></table><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Clustering.clustering_quality" href="#Clustering.clustering_quality"><code>Clustering.clustering_quality</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>For &quot;hard&quot; clustering:</p><pre><code class="nohighlight hljs">clustering_quality(data, centers, assignments; quality_index, [metric])
clustering_quality(data, clustering; quality_index, [metric])</code></pre><p>For fuzzy (&quot;soft&quot;) clustering:</p><pre><code class="nohighlight hljs">clustering_quality(data, centers, weights; quality_index, fuzziness, [metric])
clustering_quality(data, clustering; quality_index, fuzziness, [metric])</code></pre><p>For &quot;hard&quot; clustering without specifying cluster centers:</p><pre><code class="nohighlight hljs">clustering_quality(data, assignments; quality_index, [metric])
clustering_quality(data, clustering; quality_index, [metric])</code></pre><p>For &quot;hard&quot; clustering without specifying data points and cluster centers:</p><pre><code class="nohighlight hljs">clustering_quality(assignments, dist_matrix; quality_index)
clustering_quality(clustering, dist_matrix; quality_index)</code></pre><p>Compute the <em>quality index</em> for a given clustering.</p><p>Returns a quality index (real value).</p><p><strong>Arguments</strong></p><ul><li><code>data::AbstractMatrix</code>: <span>$d×n$</span> data matrix with each column representing one <span>$d$</span>-dimensional data point</li><li><code>centers::AbstractMatrix</code>: <span>$d×k$</span> matrix with cluster centers represented as columns</li><li><code>assignments::AbstractVector{Int}</code>: <span>$n$</span> vector of point assignments (cluster indices)</li><li><code>weights::AbstractMatrix</code>: <span>$n×k$</span> matrix with fuzzy clustering weights, <code>weights[i,j]</code> is the degree of membership of <span>$i$</span>-th data point to <span>$j$</span>-th cluster</li><li><code>clustering::Union{ClusteringResult, FuzzyCMeansResult}</code>: the output of the clustering method</li><li><code>quality_index::Symbol</code>: quality index to calculate; see below for the supported options</li><li><code>dist_matrix::AbstractMatrix</code>: a <span>$n×n$</span> pairwise distance matrix; <code>dist_matrix[i,j]</code> is the distance between <span>$i$</span>-th and <span>$j$</span>-th points</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>quality_index::Symbol</code>: clustering <em>quality index</em> to calculate; see below for the supported options</li><li><code>fuzziness::Real</code>: clustering <em>fuzziness</em> &gt; 1</li><li><code>metric::SemiMetric=SqEuclidean()</code>: <code>SemiMetric</code> object that defines the metric/distance/similarity function</li></ul><p>When calling <code>clustering_quality</code>, one can explicitly specify <code>centers</code>, <code>assignments</code>, and <code>weights</code>, or provide <code>ClusteringResult</code> via <code>clustering</code>, from which the necessary data will be read automatically.</p><p>For clustering without known cluster centers the <code>data</code> points are not required. <code>dist_matrix</code> could be provided explicitly, otherwise it would be calculated from the <code>data</code> points using the specified <code>metric</code>.</p><p><strong>Supported quality indices</strong></p><ul><li><code>:calinski_harabasz</code>: hard or fuzzy Calinski-Harabsz index (↑), the corrected ratio of between cluster centers inertia and within-clusters inertia</li><li><code>:xie_beni</code>: hard or fuzzy Xie-Beni index (↓), the ratio betwen inertia within clusters and minimal distance between the cluster centers</li><li><code>:davies_bouldin</code>: Davies-Bouldin index (↓), the similarity between the cluster and the other most similar one, averaged over all clusters</li><li><code>:dunn</code>: Dunn index (↑), the ratio of the minimal distance between clusters and the maximal cluster diameter</li><li><code>:silhouettes</code>: the average silhouette index (↑), see <a href="validate.html#Clustering.silhouettes"><code>silhouettes</code></a></li></ul><p>The arrows ↑ or ↓ specify the direction of the incresing clustering quality. Please refer to the <a href="validate.html#Clustering.clustering_quality">documentation</a> for more details on the clustering quality indices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/clustering_quality.jl#L2-L58">source</a></section></article><p>The clustering quality index definitions use the following notation:</p><ul><li><span>$x_1, x_2, \ldots, x_n$</span>: data points,</li><li><span>$C_1, C_2, \ldots, C_k$</span>: clusters,</li><li><span>$c_j$</span> and <span>$c$</span>: cluster centers and global dataset center,</li><li><span>$d$</span>: a similarity (distance) function,</li><li><span>$w_{ij}$</span>: weights measuring membership of a point <span>$x_i$</span> to a cluster <span>$C_j$</span>,</li><li><span>$\alpha$</span>:  a fuzziness parameter.</li></ul><h3 id="calinsky_harabasz"><a class="docs-heading-anchor" href="#calinsky_harabasz">Calinski-Harabasz index</a><a id="calinsky_harabasz-1"></a><a class="docs-heading-anchor-permalink" href="#calinsky_harabasz" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Calinski%E2%80%93Harabasz_index"><em>Calinski-Harabasz</em> index</a> (option <code>:calinski_harabasz</code>) measures corrected ratio between global inertia of the cluster centers and the summed internal inertias of clusters:</p><p class="math-container">\[\frac{n-k}{k-1}\frac{\sum_{C_j}|C_j|d(c_j,c)}{\sum\limits_{C_j}\sum\limits_{x_i\in C_j} d(x_i,c_j)} \quad \text{and}\quad
\frac{n-k}{k-1} \frac{\sum\limits_{C_j}\left(\sum\limits_{x_i}w_{ij}^\alpha\right) d(c_j,c)}{\sum_{C_j} \sum_{x_i} w_{ij}^\alpha d(x_i,c_j)}\]</p><p>for hard and fuzzy (soft) clusterings, respectively. <em>Higher</em> values indicate better quality.</p><h3 id="xie_beni"><a class="docs-heading-anchor" href="#xie_beni">Xie-Beni index</a><a id="xie_beni-1"></a><a class="docs-heading-anchor-permalink" href="#xie_beni" title="Permalink"></a></h3><p><em>Xie-Beni</em> index (option <code>:xie_beni</code>) measures ratio between summed inertia of clusters and the minimum distance between cluster centres:</p><p class="math-container">\[\frac{\sum_{C_j}\sum_{x_i\in C_j}d(x_i,c_j)}{n\min\limits_{c_{j_1}\neq c_{j_2}} d(c_{j_1},c_{j_2}) }
\quad \text{and}\quad
\frac{\sum_{C_j}\sum_{x_i} w_{ij}^\alpha d(x_i,c_j)}{n\min\limits_{c_{j_1}\neq c_{j_2}} d(c_{j_1},c_{j_2}) }\]</p><p>for hard and fuzzy (soft) clusterings, respectively. <em>Lower</em> values indicate better quality.</p><h3 id="davis_bouldin"><a class="docs-heading-anchor" href="#davis_bouldin">Davis-Bouldin index</a><a id="davis_bouldin-1"></a><a class="docs-heading-anchor-permalink" href="#davis_bouldin" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Davies%E2%80%93Bouldin_index"><em>Davis-Bouldin</em> index</a> (option <code>:davis_bouldin</code>) measures average cohesion based on the cluster diameters and distances between cluster centers:</p><p class="math-container">\[\frac{1}{k}\sum_{C_{j_1}}\max_{c_{j_2}\neq c_{j_1}}\frac{S(C_{j_1})+S(C_{j_2})}{d(c_{j_1},c_{j_2})}\]</p><p>where</p><p class="math-container">\[S(C_j) = \frac{1}{|C_j|}\sum_{x_i\in C_j}d(x_i,c_j).\]</p><p><em>Lower</em> values indicate better quality.</p><h3 id="dunn"><a class="docs-heading-anchor" href="#dunn">Dunn index</a><a id="dunn-1"></a><a class="docs-heading-anchor-permalink" href="#dunn" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Dunn_index"><em>Dunn</em> index</a> (option <code>:dunn</code>) measures the ratio between the nearest neighbour distance divided by the maximum cluster diameter:</p><p class="math-container">\[\frac{\min\limits_{ C_{j_1}\neq C_{j_2}} \mathrm{dist}(C_{j_1},C_{j_2})}{\max\limits_{C_j}\mathrm{diam}(C_j)}\]</p><p>where</p><p class="math-container">\[\mathrm{dist}(C_{j_1},C_{j_2}) = \min\limits_{x_{i_1}\in C_{j_1},x_{i_2}\in C_{j_2}} d(x_{i_1},x_{i_2}),\quad \mathrm{diam}(C_j) = \max\limits_{x_{i_1},x_{i_2}\in C_j} d(x_{i_1},x_{i_2}).\]</p><p>It is more computationally demanding quality index, which can be used when the centres are not known. <em>Higher</em> values indicate better quality.</p><h3 id="silhouettes_index"><a class="docs-heading-anchor" href="#silhouettes_index">Silhouettes</a><a id="silhouettes_index-1"></a><a class="docs-heading-anchor-permalink" href="#silhouettes_index" title="Permalink"></a></h3><p><a href="http://en.wikipedia.org/wiki/Silhouette_(clustering)"><em>Silhouettes</em> metric</a> quantifies the correctness of point-to-cluster asssignment by comparing the distance of the point to its cluster and to the other clusters.</p><p>The <em>Silhouette</em> value for the <span>$i$</span>-th data point is:</p><p class="math-container">\[s_i = \frac{b_i - a_i}{\max(a_i, b_i)}, \ \text{where}\]</p><ul><li><span>$a_i$</span> is the average distance from the <span>$i$</span>-th point to the other points in the <em>same</em> cluster <span>$z_i$</span>,</li><li><span>$b_i ≝ \min_{k \ne z_i} b_{ik}$</span>, where <span>$b_{ik}$</span> is the average distance from the <span>$i$</span>-th point to the points in the <span>$k$</span>-th cluster.</li></ul><p>Note that <span>$s_i \le 1$</span>, and that <span>$s_i$</span> is close to <span>$1$</span> when the <span>$i$</span>-th point lies well within its own cluster. This property allows using average silhouette value <code>mean(silhouettes(assignments, counts, X))</code> as a measure of clustering quality; it is also available using <a href="validate.html#Clustering.clustering_quality"><code>clustering_quality(...; quality_index = :silhouettes)</code></a> method. Higher values indicate better separation of clusters w.r.t. point distances.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Clustering.silhouettes" href="#Clustering.silhouettes"><code>Clustering.silhouettes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">silhouettes(assignments::Union{AbstractVector, ClusteringResult}, point_dists::Matrix) -&gt; Vector{Float64}
silhouettes(assignments::Union{AbstractVector, ClusteringResult}, points::Matrix;
            metric::SemiMetric, [batch_size::Integer]) -&gt; Vector{Float64}</code></pre><p>Compute <em>silhouette</em> values for individual points w.r.t. given clustering.</p><p>Returns the <span>$n$</span>-length vector of silhouette values for each individual point.</p><p><strong>Arguments</strong></p><ul><li><code>assignments::Union{AbstractVector{Int}, ClusteringResult}</code>: the vector of point assignments (cluster indices)</li><li><code>points::AbstractMatrix</code>: if metric is nothing it is an <span>$n×n$</span> matrix of pairwise distances between the points, otherwise it is an <span>$d×n$</span> matrix of <code>d</code> dimensional clustered data points.</li><li><code>metric::Union{SemiMetric, Nothing}</code>: an instance of Distances Metric object or nothing, indicating the distance metric used for calculating point distances.</li><li><code>batch_size::Union{Integer, Nothing}</code>: if integer is given, calculate silhouettes in batches of <code>batch_size</code> points each, throws <code>DimensionMismatch</code> if batched calculation is not supported by given <code>metric</code>.</li></ul><p><strong>References</strong></p><blockquote><p>Peter J. Rousseeuw (1987). <em>Silhouettes: a Graphical Aid to the Interpretation and Validation of Cluster Analysis</em>. Computational and Applied Mathematics. 20: 53–65. Marco Gaido (2023). Distributed Silhouette Algorithm: Evaluating Clustering on Big Data</p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/Clustering.jl/blob/a3768b6a8d78abb8fd513ce73a9f3fb8b21c3ff2/src/silhouette.jl#L72-L97">source</a></section></article><p><a href="validate.html#Clustering.clustering_quality"><code>clustering_quality(..., quality_index=:silhouettes)</code></a> provides mean silhouette metric for the datapoints. Higher values indicate better quality.</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><blockquote><p>Olatz Arbelaitz <em>et al.</em> (2013). <em>An extensive comparative study of cluster validity indices</em>. Pattern Recognition. 46 1: 243-256. <a href="https://doi.org/10.1016/j.patcog.2012.07.021">doi:10.1016/j.patcog.2012.07.021</a></p></blockquote><blockquote><p>Aybükë Oztürk, Stéphane Lallich, Jérôme Darmont. (2018). <em>A Visual Quality Index for Fuzzy C-Means</em>.  14th International Conference on Artificial Intelligence Applications and Innovations (AIAI 2018). 546-555. <a href="https://doi.org/10.1007/978-3-319-92007-8_46">doi:10.1007/978-3-319-92007-8_46</a>.</p></blockquote><h3 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h3><p>Exemplary data with 3 real clusters.</p><pre><code class="language-julia hljs">using Plots, Plots.PlotMeasures, Clustering
X_clusters = [(center = [4., 5.], std = 0.4, n = 10),
              (center = [9., -5.], std = 0.4, n = 5),
              (center = [-4., -9.], std = 1, n = 5)]
X = mapreduce(hcat, X_clusters) do (center, std, n)
    center .+ std .* randn(length(center), n)
end
X_assignments = mapreduce(vcat, enumerate(X_clusters)) do (i, (_, _, n))
    fill(i, n)
end

scatter(view(X, 1, :), view(X, 2, :),
    markercolor = X_assignments,
    plot_title = &quot;Data&quot;, label = nothing,
    xlabel = &quot;x&quot;, ylabel = &quot;y&quot;,
    legend = :outerright,
    size = (600, 500)
);</code></pre><p><img src="clu_quality_data.svg" alt/></p><p>Hard clustering quality for <a href="kmeans.html#K-means">K-means</a> method with 2 to 5 clusters:</p><pre><code class="language-julia hljs">hard_nclusters = 2:5
clusterings = kmeans.(Ref(X), hard_nclusters)

plot((
    plot(hard_nclusters,
         clustering_quality.(Ref(X), clusterings, quality_index = qidx),
         marker = :circle,
         title = &quot;:$qidx&quot;, label = nothing,
    ) for qidx in [:silhouettes, :calinski_harabasz, :xie_beni, :davies_bouldin, :dunn])...,
    layout = (2, 3),
    xaxis = &quot;N clusters&quot;, yaxis = &quot;Quality&quot;,
    plot_title = &quot;\&quot;Hard\&quot; clustering quality indices&quot;,
    size = (1000, 600), left_margin = 10pt
)</code></pre><p><img src="clu_quality_hard.svg" alt/></p><p>Fuzzy clustering quality for fuzzy C-means method with 2 to 5 clusters:</p><pre><code class="language-julia hljs">fuzziness = [1.3 2 3]
fuzzy_nclusters = 2:5
fuzzy_clusterings = fuzzy_cmeans.(Ref(X), fuzzy_nclusters, fuzziness)

plot((
    plot(fuzzy_nclusters,
         [clustering_quality.(Ref(X), fuzz_clusterings,
                              fuzziness = fuzz, quality_index = qidx)
          for (fuzz, fuzz_clusterings) in zip(fuzziness, eachcol(fuzzy_clusterings))],
         marker = :circle,
         title = &quot;:$qidx&quot;, label = [&quot;Fuzziness $fuzz&quot; for fuzz in fuzziness],
    ) for qidx in [:calinski_harabasz, :xie_beni])...,
    layout = (1, 2), legend = :left,
    xaxis = &quot;N clusters&quot;, yaxis = &quot;Quality&quot;,
    plot_title = &quot;\&quot;Soft\&quot; clustering quality indices&quot;,
    size = (700, 350), left_margin = 10pt
)</code></pre><p><img src="clu_quality_soft.svg" alt/></p><h2 id="Other-packages"><a class="docs-heading-anchor" href="#Other-packages">Other packages</a><a id="Other-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Other-packages" title="Permalink"></a></h2><ul><li><a href="https://github.com/HolyLab/ClusteringBenchmarks.jl">ClusteringBenchmarks.jl</a> provides benchmark datasets and implements additional methods for evaluating clustering performance.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="fuzzycmeans.html">« Fuzzy C-means</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 6 January 2025 05:59">Monday 6 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
